# 약도 CSV 그리드 구조 정렬 최종 완료

## ✅ 완료된 작업

### CSV 파일 구조 분석 및 정확한 배치

**CSV 그리드 구조 (8열 5행)**:
```
행 1: 주차공간1(열1-2), 주차공간2(열4-8)
행 2: 관리동(열1-2), 카페(열4-8)
행 3: 2호(열1), 1호(열2)
행 4: 4호(열1), 3호(열2), 건물/창고(열4-5), 7호(열6), 8호(열7), 9호(열8)
행 5: 6호(열1), 5호(열2), 주차공간3(열4-5), 10호(열7)
```

**파일**: `lib/constants/floorPlan.ts`, `components/features/FloorPlanSVG.tsx`

### 좌표 계산 및 배치

**viewBox**: `"0 0 800 280"` (8열 구조에 맞춤)

**그리드 설정**:
- 열 수: 8
- 행 수: 5
- 간격: 4px

**각 열 너비 계산**:
- 총 너비: 800px
- 간격 총합: 7 * 4 = 28px
- 각 열 너비: (800 - 28) / 8 = 96.5px → **96px**

**열 위치 계산**:
- 열1: `x = 10`
- 열2: `x = 10 + 96 + 4 = 110`
- 열3: `x = 110 + 96 + 4 = 210` (도로 위치)
- 열4: `x = 210 + 4 = 218`
- 열5: `x = 218 + 96 + 4 = 318`
- 열6: `x = 318 + 96 + 4 = 418`
- 열7: `x = 418 + 96 + 4 = 518`
- 열8: `x = 518 + 96 + 4 = 618`

**행 위치 계산**:
- 행1: `y = 10`
- 행2: `y = 10 + 50 + 4 = 64`
- 행3: `y = 64 + 50 + 6 = 120`
- 행4: `y = 120 + 50 + 4 = 174`
- 행5: `y = 174 + 50 + 4 = 228`

### 시설 배치 (CSV 그리드 기준)

**행 1: 주차공간**
- 주차공간 1 (열1-2): `x: 10, y: 10, width: 196` (96*2 + 4)
- 주차공간 2 (열4-8): `x: 218, y: 10, width: 492` (96*5 + 4*4)

**행 2: 관리동 및 카페**
- 관리동 (열1-2): `x: 10, y: 64, width: 196`
- 카페(오우스마켓) (열4-8): `x: 218, y: 64, width: 492`

**행 4: 건물/창고**
- 건물/창고 (열4-5): `x: 218, y: 174, width: 196` (96*2 + 4)

**행 5: 주차공간 3**
- 주차공간 3 (열4-5): `x: 218, y: 228, width: 196` (96*2 + 4)

### 방 배치 (CSV 그리드 기준)

**행 3:**
- 2호 (열1): `x: 10, y: 120, width: 96, height: 50`
- 1호 (열2): `x: 110, y: 120, width: 96, height: 50`

**행 4:**
- 4호 (열1): `x: 10, y: 174, width: 96, height: 50`
- 3호 (열2): `x: 110, y: 174, width: 96, height: 50`
- 7호 (열6): `x: 418, y: 174, width: 96, height: 50`
- 8호 (열7): `x: 518, y: 174, width: 96, height: 50`
- 9호 (열8): `x: 618, y: 174, width: 96, height: 50`

**행 5:**
- 6호 (열1): `x: 10, y: 228, width: 96, height: 50`
- 5호 (열2): `x: 110, y: 228, width: 96, height: 50`
- 10호 (열7): `x: 518, y: 228, width: 96, height: 50`

### 도로 위치

**파일**: `components/features/FloorPlanSVG.tsx`

- 도로 위치: `x: 210` (열3 위치)
- 도로 너비: `width: 4`
- 도로 높이: `height: 280` (전체 viewBox 높이)

---

## 🎨 개선 사항

### 정확한 CSV 그리드 정렬
- CSV 파일의 8열 5행 구조를 정확히 반영
- 각 셀의 위치가 CSV 그리드와 일치
- 건물/창고와 주차공간3이 열4-5를 정확히 차지

### 일관된 크기
- 모든 카라반(1-10호): `width: 96, height: 50` (통일)
- 시설 간격: `4px` (일관됨)
- 행 간격: `4px` 또는 `6px` (시각적 균형)

### 반응형 디자인
- SVG viewBox를 사용하여 반응형 구현
- 카드 내에서 전체 약도 표시 가능
- 모바일 화면에 최적화

---

## 📁 수정된 파일

1. **`lib/constants/floorPlan.ts`**
   - CSV 그리드 구조에 맞춰 모든 좌표 재계산
   - 건물/창고와 주차공간3을 열4-5로 정확히 배치
   - 모든 방 크기를 통일 (96x50)

2. **`components/features/FloorPlanSVG.tsx`**
   - 도로 위치를 열3 (x: 210)에 정확히 배치
   - 주석 업데이트

---

## 📊 CSV 그리드 매핑

| CSV 위치 | 요소 | 좌표 (x, y, width, height) |
|---------|------|---------------------------|
| 행1 열1-2 | 주차공간 1 | (10, 10, 196, 50) |
| 행1 열4-8 | 주차공간 2 | (218, 10, 492, 50) |
| 행2 열1-2 | 관리동 | (10, 64, 196, 50) |
| 행2 열4-8 | 카페 | (218, 64, 492, 50) |
| 행3 열1 | 2호 | (10, 120, 96, 50) |
| 행3 열2 | 1호 | (110, 120, 96, 50) |
| 행4 열1 | 4호 | (10, 174, 96, 50) |
| 행4 열2 | 3호 | (110, 174, 96, 50) |
| 행4 열4-5 | 건물/창고 | (218, 174, 196, 50) |
| 행4 열6 | 7호 | (418, 174, 96, 50) |
| 행4 열7 | 8호 | (518, 174, 96, 50) |
| 행4 열8 | 9호 | (618, 174, 96, 50) |
| 행5 열1 | 6호 | (10, 228, 96, 50) |
| 행5 열2 | 5호 | (110, 228, 96, 50) |
| 행5 열4-5 | 주차공간 3 | (218, 228, 196, 50) |
| 행5 열7 | 10호 | (518, 228, 96, 50) |

---

**완료 일시**: 2026-01-XX  
**작성자**: AI Assistant  
**버전**: 12.0  
**상태**: CSV 그리드 구조 정렬 최종 완료
