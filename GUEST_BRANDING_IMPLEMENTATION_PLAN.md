# 고객 브랜딩(실사진/영상) 반영 + 쿠폰 플립 오버플로우 수정 작업 계획

> **작성일**: 2026-01-19  
> **목표**: (1) 향후 실사진/영상 브랜딩을 무리 없이 적용할 수 있는 UI 구조 마련 (2) 쿠폰 플립 뒷면 이미지가 카드 영역을 초과하는 문제 해결

---

## 1) 요구사항 요약
- 고객 페이지는 관리자 페이지와 달리 **시각적 완성도/브랜딩/동적 요소**의 비중이 큼
- 추후 실제 사진/영상(브랜딩 에셋)을 반영할 수 있도록 **레이아웃/컴포넌트 구조**를 설계해야 함
- 현재 `CouponFlip` 뒷면에서 “이미지(브랜딩 요소)가 카드 테이블(영역)을 초과”하는 문제가 있음 → **크기/비율/클리핑 최적화** 필요

---

## 2) 수용 기준(완료 조건)

### 2.1 쿠폰 플립
- 어떤 화면 크기에서도 **뒷면(브랜딩 이미지 포함)**이 카드 영역을 넘지 않는다(overflow 없음)
- 앞/뒤 회전 시에도 카드 외곽(라운드) 밖으로 요소가 튀어나오지 않는다
- 이미지가 들어오더라도:
  - **object-fit 규칙**이 명확(기본 cover, 필요 시 contain 옵션 가능)
  - 텍스트(“직원에게 보여주세요”, 객실번호)가 항상 읽힌다(가독성 레이어)

### 2.2 브랜딩 반영 구조
- 실사진/영상은 “하드코딩”이 아니라 **슬롯(레이어) 컴포넌트**로 삽입 가능해야 함
- 에셋이 없어도 UI는 기존과 동일하게 동작(폴백)
- 인앱/저사양에서도 안전:
  - 영상은 자동재생 실패해도 UI가 깨지지 않음
  - 이미지/영상 모두 **레이아웃 쉬프트 최소화**

---

## 3) 작업 범위(변경/추가 파일)

### 3.1 쿠폰 플립 수정
- `components/features/CouponFlip.tsx`
  - 회전 컨테이너에 **라운드+overflow 클리핑** 적용
  - 뒷면에 **브랜딩 이미지 레이어(optional)** 추가(향후 적용 대비)
  - 텍스트 가독성 확보(반투명 오버레이/그라데이션)

### 3.2 브랜딩 슬롯(향후 실사진/영상 삽입 구조)
- `lib/brand.ts` (신규): 브랜딩 에셋 경로/옵션을 한 곳에서 관리
- `components/guest/BrandMediaLayer.tsx` (신규): 이미지/영상 레이어 공통 컴포넌트(폴백 포함)
- `components/guest/GuestHomeContent.tsx` (수정): Hero 영역에 브랜딩 레이어를 끼울 수 있게 구조화(에셋 없으면 기존과 동일)

---

## 4) 작업 순서(누락 방지 체크리스트)
- [ ] (문서/로그) 작업 로그 파일 생성 및 진행 단계 기록
- [ ] `CouponFlip` 오버플로우 재현 원인 가정(회전 컨테이너 클리핑/이미지 비율 문제) 기반으로 수정
- [ ] 브랜딩 레이어 컴포넌트 추가(이미지/영상/폴백)
- [ ] 홈 Hero에 레이어 슬롯 적용(폴백 유지)
- [ ] (검증) 모바일/데스크톱에서 쿠폰 플립 앞/뒤 전환 시 오버플로우 없는지 확인
- [ ] (자체 진단) 목표 대비 개선점/리스크/후속 작업 기록

