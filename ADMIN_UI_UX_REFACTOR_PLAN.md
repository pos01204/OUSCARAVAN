# 관리자(Admin) UI/UX 진단 및 프론트엔드 리팩토링 상세 (실무 관점)

> **작성일**: 2026-01-19  
> **대상**: `/admin` 영역 (모바일 인앱 포함)  
> **목표 우선순위**: 1) 정보 파악/실무 운영 효율 2) 규칙성/통일성 3) 정보 위계(1차/2차) 정리 4) 기능성 기반 디자인 최적화

---

## 1) 리팩토링 목표(관리자 실무 기준)

### 1.1 관리자 “업무 흐름”을 UI의 1급 시민으로
- **핵심 플로우**: (예약 확인) → (미배정/긴급 배정) → (현장 체크인/체크아웃) → (주문 처리) → (알림/이상 징후 대응)
- UI는 “페이지”가 아니라 **업무 단위**로 설계: *대기열/해야 할 일(TODO)/상태/액션*이 한 덩어리로 보여야 함.

### 1.2 정보 위계(1차/2차) 명확화
- **1차 정보(항상 노출)**: 오늘/내일 핵심 수치, 미배정, 체크인/체크아웃 예정, 대기 주문, 알림 요약
- **2차 정보(요청 시 노출)**: 예약 상세, 옵션/금액 분해, 히스토리/메타데이터, 부가 설명
- “더보기/모달/드로어”는 **2차 정보**에만 사용 (1차 정보는 스크롤 최소화)

### 1.3 모바일 운영 최적화(인앱 포함)
- 모바일 운영 환경은 “서서/이동 중/한 손”이 많음 → **터치 타겟, 고정 액션, 스크롤 길이**가 가장 중요
- 인앱 브라우저 제약을 고려해 **(알림/ServiceWorker/Notification) 미지원에서도 기능이 깨지지 않게** 설계

---

## 2) 현재 구조/구성 요약(코드 기반)

### 2.1 공통 레이아웃/네비
- `app/admin/layout.tsx`: 상단바(타이틀/알림/로그아웃) + 모바일 하단 탭(`components/admin/AdminBottomNav.tsx`)
- 알림: `NotificationBell` + `NotificationDropdown` + `NotificationFeed` + SSE(`useNotificationStream`)
- 빠른 배정: `RoomAssignmentDrawer`

### 2.2 주요 화면
- 홈: `app/admin/page.tsx` (D-1 미배정 배너 + 실시간 알림 피드)
- 예약/배정: `app/admin/reservations/*` (캘린더/리스트, 필터, 드로어 배정)
- 현장관리: `app/admin/rooms/page.tsx` (객실 상태 + 오늘 주문 + 실시간 하이라이트)
- 주문: `app/admin/orders/page.tsx` (필터 + 카드 리스트 + 다이얼로그 상세/상태변경)
- 알림 히스토리: `app/admin/notifications/page.tsx`

---

## 3) 현재 UI/UX 진단(관리자 실무 관점)

### 3.1 강점(이미 잘 되어 있는 점)
- **모바일 탭 네비**: `/admin` 업무 흐름에 맞는 4개 탭(홈/예약/현장/주문) 제공 → 현장 운영에 적합
- **D-1 미배정 배너 딥링크**: “긴급 업무”를 단일 클릭으로 연결 (`CriticalStatusBanner`)
- **빠른 배정 드로어**: 리스트/캘린더에서 동일 배정 UI 재사용 (`RoomAssignmentDrawer`)
- **정보 밀도**: 예약/주문/객실에 필요한 데이터가 화면에서 바로 확인 가능 (특히 캘린더+모달 카드)

### 3.2 핵심 문제(운영 효율을 떨어뜨리는 지점)

#### (A) 정보 위계가 “화면마다” 달라서 학습 비용이 큼
- 동일한 엔티티(예약/주문/객실)라도 페이지마다 강조 정보/액션 위치가 다름
- 결과: 관리자가 “어디서 무엇을 해야 하는지” 매번 탐색

#### (B) 1차 정보가 스크롤에 묻힘(특히 모바일)
- 예약 캘린더/리스트에서 **필터/뷰 토글/요약**이 상단에 많아지고, 실제 “미배정/체크인 대상”이 아래로 밀림
- 현장관리에서 카드가 길어져 “오늘 해야 할 주문 처리”가 접히는 경우 발생

#### (C) 상태(대기/배정/체크인/완료) 표기 규칙이 분산
- 상태 배지/색/라벨이 여러 컴포넌트에 중복 정의됨  
  (예: `ReservationModalCard`, `ReservationListView`, `ReservationCalendarView` 등)
- 결과: 작은 UX 변경(라벨/색)도 여러 군데 수정 필요 + 일관성 깨짐

#### (D) “더보기/모달/드로어”가 정보 위계 기준 없이 혼재
- 캘린더는 모달 카드 + 드로어, 리스트는 확장 카드 + 드로어, 주문은 다이얼로그
- 결과: 동일한 목적(상세 확인/조치)인데 UI 패턴이 달라 “실무 속도”가 저하됨

#### (E) 실시간 알림/푸시 관련 기능이 페이지 안정성을 위협할 수 있음
- (이번 이슈처럼) 환경에 따라 Notification/ServiceWorker가 없을 수 있음 → 반드시 “옵션 기능”으로 격리 필요
- 알림은 있어도 업무는 가능해야 함(알림 실패가 화면을 깨면 안 됨)

---

## 4) 리팩토링 핵심 원칙(규칙/통일성)

### 4.1 공통 레이아웃 규칙(모든 관리자 화면)
- **페이지 헤더**: 좌측 “페이지명 + 보조 설명”, 우측 “주요 액션(1~2개)” 고정
- **1차 요약 영역**: KPI/긴급 배너/핵심 컨트롤(최대 1줄)만
- **2차 필터/정렬**: “필터 드로어/모달”로 분리 (기본은 최소)
- **리스트/보드 본문**: 카드 밀도 최적화 + 중요 액션은 카드 우측/하단 고정

#### (중요) 컨트롤 과밀 방지 규칙
- “필터 프리셋 추가”는 상단을 더 복잡하게 만들 수 있으므로, **컨트롤은 반드시 2단으로 분리**한다.
  - **1단(항상 노출)**: *뷰 토글 1개* + *프리셋 1줄(가로 스크롤 가능)* + *필터 버튼(1개)*  
  - **2단(요청 시 노출)**: 날짜/상태/검색/정렬/고급 옵션 (드로어/시트)
- 상단에서 동시에 보여주는 선택지는 **최대 2개 군(뷰, 프리셋)**만 허용한다.
  - 나머지는 “필터” 버튼 뒤로 숨겨 **실질 정보가 밀리지 않게** 한다.

### 4.2 상태 시스템(단일 소스)
- `Reservation.status`, `Order.status`, `Room.status` 각각에 대해  
  - 라벨/색/아이콘/우선순위(정렬 기준) **단일 매핑 테이블**로 통합
- 모든 UI에서 배지는 `StatusPill` 컴포넌트로만 렌더링

### 4.3 “위계 기반 인터랙션” 규칙
- **1차 액션**: 즉시 실행(버튼) / 카드 탭 1회
- **2차 정보**: 드로어(모바일) / 다이얼로그(데스크톱)로 통일
- **3차 정보(희소)**: 상세 페이지(`/admin/reservations/[id]`)로 이동

---

## 5) 화면별 개선 제안(구체)

### 5.1 홈(`/admin`)
**문제**
- “실시간 알림”이 비어있으면 정보 가치가 낮고, 관리자에게 “오늘 할 일”이 부족하게 보임

**개선**
- **오늘 업무 요약 카드**(KPI 4종):
  - 오늘 체크인/체크아웃 수
  - 미배정(오늘/내일)
  - 대기 주문(준비중/배송중)
  - 읽지 않은 알림 수
- 배너는 “긴급도” 기준으로 정렬(미배정, 주문 지연, 체크인 임박 등)

### 5.2 예약/배정(`/admin/reservations`)
**문제**
- 캘린더가 친숙한 방식임에도 **셀당 예약 적재량이 낮아** “더보기 → 모달” 의존이 커짐  
  → 월간 현황을 한 화면에서 직관적으로 파악하기 어렵다.
- 뷰 토글/필터/UI가 상단에 많아, 실제 업무 정보(미배정/체크인 대상)가 아래로 밀린다.

**개선**
#### 5.2.1 월간 파악 최우선: 캘린더 “정보 밀도” 재설계
- 목표: “더보기/모달” 없이도 **월간의 예약 분포/미배정/변수**를 한 화면에서 파악.
- 방향: “셀 안에서 해결(Progressive Disclosure)” + “가시적 요약(요약 칩/카운트)” + “동적 밀도 조절”.

**(A) 셀 적재량 개선(더보기 최소화)**
- **표시 우선순위 규칙**(셀 내 상단 고정):
  - 1) **미배정**(가장 눈에 띄게)  
  - 2) **체크인/체크아웃 당일**(아이콘/색으로 구분)  
  - 3) **배정 완료**  
- 동일 날짜 예약이 많으면:
  - “+N 더보기” 대신 **요약 칩**을 먼저 노출:  
    - `미배정 N`, `체크인 N`, `체크아웃 N`  
    - 이 요약만으로 “위험/업무량”이 즉시 보이게 한다.
- 이벤트 카드 텍스트는 “한 줄 규칙”으로 밀도 확보:
  - `상태(짧게)` + `고객명(최대 4~5자)` + `방(있으면)`  
  - 금액/옵션 같은 2차 정보는 셀에서 제거(모달/드로어로)

**(B) 모달 전략 변경: ‘목록 모달’ 대신 ‘사이드/바텀 인스펙터’**
- 현재: “더보기 → 큰 목록 모달”로 전환되어, 캘린더 컨텍스트가 끊긴다.
- 개선: 날짜 클릭 시:
  - **모바일**: 하단 **인스펙터 드로어**(날짜의 예약 리스트 + 빠른 배정/상태 액션)
  - **데스크톱**: 우측 **사이드 패널**(캘린더는 유지, 패널에서 2차 처리)
- 결과: 월간 화면을 유지한 채로 “그 날짜만 깊게” 볼 수 있어, **월간 파악 + 업무 처리**를 동시에 충족.

**(C) 모바일은 ‘월간 파악’ 모드 + ‘업무 처리’ 모드를 분리**
- 모바일에서 월간 캘린더는 필연적으로 공간이 좁음 → 다음 2모드 제공:
  - **월간 파악 모드(기본)**: 요약 칩 중심(미배정/체크인/체크아웃 카운트), 상세 텍스트 최소
  - **업무 처리 모드(스위치)**: “미배정만” 또는 “오늘/내일” 중심으로 리스트/타임라인 자동 전환
- 즉, 모바일에서 캘린더가 “업무 리스트의 대체”가 아니라 **현황 파악(레이더)** 역할을 확실히 한다.

**(D) 캘린더 헤더/컨트롤 최소화(정보 밀림 방지)**
- 상단 컨트롤은 1단만 유지:
  - **뷰 토글(캘린더/리스트)** + **프리셋 1줄(가로 스크롤)** + **필터 버튼**
- 검색/상태/기간/정렬은 필터 드로어로 이동(2단).

#### 5.2.2 업무 필터 프리셋(칩) 재정의: “늘리되, 상단을 늘리지 않는다”
- 프리셋은 “옵션 증가”가 아니라 “업무 단축키”여야 함.
- 따라서 프리셋은:
  - **가로 스크롤 1줄**로 고정(2줄 이상 금지)
  - “현재 선택 프리셋”만 강조, 나머지는 낮은 대비
  - 프리셋 개수는 많아도 되지만 **화면 높이는 늘리지 않는다**
- 추천 프리셋(초기 5개, 추가는 2차로):
  - 1차(항상 노출): `오늘`, `내일`, `미배정`, `체크인`, `체크아웃`
  - 2차(필터 드로어 내부): `취소`, `장기투숙`, `특정 객실타입`, `금액 범위` 등

#### 5.2.3 예약 카드(리스트/인스펙터) 정보 위계 통일
- **1차 고정 5요소**:
  - 고객명, 일정(체크인→체크아웃), 배정방, 상태, 1차 액션(배정/상세)
- **2차(접기/드로어)**:
  - 금액/옵션/전화번호/메모/히스토리

### 5.3 예약 상세(`/admin/reservations/[id]`)
**문제**
- 정보가 많아 스크롤이 길어짐(옵션/금액/링크 등)

**개선**
- 섹션을 **3단**으로 분리:
  - 1단: 배정/연락처/상태 변경(업무)
  - 2단: 일정/객실/금액 요약
  - 3단: 옵션 상세/메타(접기 기본)

### 5.4 현장관리(`/admin/rooms`)
**문제**
- 객실 카드가 길어질수록 “오늘 처리해야 할 주문”이 아래로 밀림
- 점멸/하이라이트는 좋지만, 운영자가 “왜 점멸인지” 즉시 파악이 어려울 수 있음

**개선**
- 카드 구조를 2층으로:
  - 상단: 객실 상태(사용 가능/투숙중) + 투숙객(있다면) + 오늘 주문 배지(숫자)
  - 하단(확장/드로어): 주문 상세 리스트 + 완료 처리
- **주문 처리 우선 UI**: “대기 주문 있음” 객실을 상단으로 자동 정렬 옵션 제공

### 5.5 주문히스토리(`/admin/orders`)
**문제**
- 상태 변경 CTA 문구/색이 카드마다 다르게 느껴질 수 있음

**개선**
- 주문 카드의 1차 정보 고정:
  - 방/고객, 주문 타입, 현재 상태, 생성시간, 요청사항(있을 때만)
- 상태 변경은 “다음 단계로” 버튼 1개로 통일 + 상세는 드로어/다이얼로그에서

### 5.6 알림(벨/드롭다운/피드/히스토리)
**문제**
- 알림은 “보조 기능”인데도 시스템이 복잡하고, 환경 제약에 따라 리스크가 있음

**개선**
- **알림(푸시/OS 알림)**과 **실시간 피드(SSE)**를 분리:
  - SSE 피드는 “화면 내 업무 힌트” (항상 안전하게 동작)
  - OS 알림/푸시는 “지원 환경에서만 켜는 옵션”
- 알림 클릭 시 이동 규칙을 통일(예약/주문/홈)

---

## 6) 컴포넌트 리팩토링 설계(프론트엔드 관점)

### 6.1 새로 도입(권장) 컴포넌트/유틸
- **`AdminPageHeader`**: 타이틀/설명/우측 액션 슬롯(일관된 헤더)
- **`StatusPill`**: 상태 배지 단일화(예약/주문/객실)
- **`KpiCard`**: 홈 KPI 요약 카드 통일
- **`EntityCard` 패턴**: `ReservationCard`, `OrderCard`, `RoomCard`를 같은 레이아웃 규칙으로
- **`AdminFilters`**: “1차 프리셋 칩 + 2차 필터 드로어” 공통화

### 6.2 상태/라벨/색상 단일 매핑(강제)
- `lib/admin-ui/status.ts` (예시):  
  - `reservationStatusMeta`, `orderStatusMeta`, `roomStatusMeta`
  - label/color/icon/priority 포함

### 6.3 모달/드로어 전략 통일
- **모바일**: 드로어 1종(상세/배정/상태변경) 중심
- **데스크톱**: 다이얼로그(상세), 페이지(전체)
- 예약 “빠른 배정”은 `RoomAssignmentDrawer` 유지하되, 다른 엔티티도 같은 UX 패턴으로 확장 가능하게

---

## 7) 실행 계획(작업 단위/우선순위)

### Phase 0 — 가시성/규칙 정의(1~2일)
- 상태 메타 단일화(예약/주문/객실)
- `AdminPageHeader` 도입 + 4개 페이지에 적용
- 카드 간격/타이포/배지 규칙 문서화(본 문서 기반)

### Phase 1 — “예약/배정” 실무 효율 최우선(2~4일)
- **캘린더 정보 밀도 개선(가장 우선)**:
  - 셀 표시 우선순위(미배정/체크인/체크아웃/배정) 규칙 확정
  - “+N 더보기”를 요약 칩(미배정/체크인/체크아웃 카운트) 중심으로 전환
  - 날짜 클릭 시 “목록 모달” 대신 인스펙터(모바일 드로어/데스크톱 사이드 패널)로 통일
- **컨트롤 과밀 해소**:
  - 상단 1단 컨트롤: `뷰 토글 + 프리셋 1줄 + 필터 버튼`만 유지
  - 검색/상태/기간/정렬은 필터 드로어로 이동
- **리스트/인스펙터 카드 정보 위계 통일**:
  - 1차 5요소 고정(고객명/일정/배정방/상태/1차 액션)
  - 2차 정보는 접기/드로어로 분리
- **빠른 배정 UX 개선**:
  - `RoomAssignmentDrawer` 내 입력 검증/오류/완료 피드백 패턴을 관리자 전체에서 통일

### Phase 2 — “현장관리/주문” 운영 최적화(2~4일)
- 객실 카드 2층 구조 + 주문 배지/우선정렬 옵션
- 주문 카드 CTA/상태 변경 UX 통일

### Phase 3 — 알림/피드 위계 정리(1~2일)
- SSE 피드 = 업무 힌트, OS 알림 = 옵션으로 분리
- 알림 드롭다운/히스토리의 이동 규칙 단일화

---

## 8) 완료 기준(수용 조건)
- **관리자 30초 내 목표 달성**:
  - “내일 미배정 N건” 확인 → 해당 예약으로 이동 → 배정 완료
  - “대기 주문” 확인 → 객실/주문 상세 → 상태 변경 완료
- **일관성**:
  - 상태 배지/색/라벨이 모든 화면에서 동일
  - 페이지 헤더/액션 위치/필터 동작이 동일
- **모바일 안정성**:
  - Notification/ServiceWorker 미지원 환경에서도 관리자 기능이 깨지지 않음

### (추가) 월간 캘린더 수용 기준(핵심 KPI)
- **월간 화면에서 ‘더보기/모달’ 없이도** 다음이 가능한가:
  - 날짜별 **미배정 여부/건수**를 3초 내 스캔 가능
  - 날짜별 **체크인/체크아웃 변동(건수)**를 3초 내 스캔 가능
  - 특정 날짜의 상세 업무(배정/상세 이동)는 **인스펙터 1회**로 도달
- **상단 컨트롤 높이 고정**:
  - 모바일에서 상단 컨트롤 영역이 1단을 넘지 않아야 하며(프리셋은 1줄), 콘텐츠(캘린더)가 밀리지 않아야 함

---

## 9) 다음 단계 제안
- 이 문서를 기준으로 “Phase 0”부터 실제 코드 리팩토링을 진행하되,  
  **예약/배정 UX(실무 핵심)**을 먼저 집중 개선하는 것을 권장합니다.

