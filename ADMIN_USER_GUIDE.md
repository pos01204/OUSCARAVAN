# 관리자 사용 가이드

## 📋 개요

이 문서는 OUSCARAVAN 예약 관리 시스템의 관리자 페이지 사용 방법을 안내합니다.

---

## 🔐 로그인

### 접근 방법
1. 관리자 페이지 URL 접속: `https://ouscaravan.vercel.app/login`
2. 로그인 정보 입력:
   - **아이디**: `ouscaravan`
   - **비밀번호**: `123456789a`
3. "로그인" 버튼 클릭

### 로그아웃
- 상단 네비게이션 바의 "로그아웃" 버튼 클릭
- 또는 모바일에서 햄버거 메뉴를 통해 로그아웃

---

## 📊 대시보드

### 통계 정보
대시보드에서 다음 통계를 확인할 수 있습니다:
- **오늘 예약 수**: 오늘 날짜의 예약 건수
- **체크인 예정 수**: 오늘 체크인 예정인 예약 건수
- **체크아웃 예정 수**: 오늘 체크아웃 예정인 예약 건수
- **처리 대기 주문 수**: 상태가 "대기"인 주문 건수

### 최근 예약 목록
- 최근 5개의 예약이 표시됩니다
- 각 예약 카드에서 "상세 보기" 버튼을 클릭하여 상세 정보를 확인할 수 있습니다
- "전체 보기" 버튼을 클릭하여 예약 관리 페이지로 이동할 수 있습니다

---

## 📅 예약 관리

### 예약 목록 조회

**접근 방법**: 상단 네비게이션 → "예약 관리"

**기능**:
- 예약 목록 전체 조회
- 필터링 기능:
  - **상태별 필터**: 대기, 배정 완료, 체크인, 체크아웃, 취소
  - **날짜별 필터**: 체크인 날짜, 체크아웃 날짜
  - **검색 기능**: 예약자명, 예약번호로 검색
- 필터 초기화 버튼

### 예약 상세 및 수정

**접근 방법**: 예약 목록에서 "상세 보기" 버튼 클릭

**주요 기능**:

#### 1. 방 배정
- "방 배정" 드롭다운에서 사용 가능한 방 선택
- 이미 배정된 방도 수정 가능
- 방 배정 후 저장하면 자동으로 예약 상태가 "배정 완료"로 변경됩니다

#### 2. 전화번호 입력
- "전화번호" 입력 필드에 고객 전화번호 입력
- 한국 전화번호 형식 자동 검증:
  - 010, 011, 016, 017, 018, 019, 02 형식 지원
  - 하이픈/공백 자동 제거
- 전화번호 입력 후 저장

#### 3. 예약 상태 업데이트
- 예약 상태를 수동으로 변경할 수 있습니다:
  - 대기 → 배정 완료 → 체크인 → 체크아웃 → 취소

#### 4. 저장 및 알림톡 발송
- "저장" 버튼 클릭 시:
  - 예약 정보가 Railway API에 저장됩니다
  - 고유 토큰이 자동 생성됩니다 (없는 경우)
  - n8n Webhook이 호출되어 알림톡이 발송됩니다
- 저장 완료 후 예약 목록으로 자동 이동

---

## 🏠 방 관리

### 접근 방법
상단 네비게이션 → "방 관리"

### 방 목록 조회
- 모든 방의 목록이 카드 형식으로 표시됩니다
- 각 방의 정보:
  - 방 이름
  - 방 타입
  - 수용 인원
  - 상태 (사용 가능, 사용 중, 점검 중)

### 방 추가
1. "방 추가" 버튼 클릭
2. 다이얼로그에서 다음 정보 입력:
   - 방 이름
   - 방 타입
   - 수용 인원
   - 상태
3. "저장" 버튼 클릭

### 방 수정
1. 수정할 방 카드에서 "수정" 버튼 클릭
2. 다이얼로그에서 정보 수정
3. "저장" 버튼 클릭

### 방 삭제
1. 삭제할 방 카드에서 "삭제" 버튼 클릭
2. 확인 다이얼로그에서 "삭제" 확인
3. 방이 삭제됩니다

### 방 상태 관리
- **사용 가능**: 예약 가능한 상태
- **사용 중**: 현재 예약되어 사용 중인 상태
- **점검 중**: 점검으로 인해 예약 불가능한 상태

---

## 🛒 주문 관리

### 접근 방법
상단 네비게이션 → "주문 관리"

### 주문 목록 조회
- 모든 주문의 목록이 카드 형식으로 표시됩니다
- 각 주문의 정보:
  - 주문 타입 (바베큐/불멍)
  - 주문 시간
  - 배송 예정 시간
  - 주문 항목
  - 총 금액
  - 상태 (대기, 준비 중, 배송 중, 완료)

### 필터링 기능
- **상태별 필터**: 대기, 준비 중, 배송 중, 완료
- **날짜별 필터**: 주문 날짜
- **검색 기능**: 주문 ID, 주문 타입으로 검색

### 주문 상세 보기
1. 주문 카드에서 "상세 보기" 버튼 클릭
2. 다이얼로그에서 상세 정보 확인:
   - 주문 ID
   - 주문 타입
   - 주문 시간
   - 상태
   - 배송 예정 시간
   - 주문 항목 (상세)
   - 총 금액
   - 요청사항

### 주문 상태 업데이트
**방법 1: 다음 단계로 진행**
- 주문 카드에서 "다음 단계로" 버튼 클릭
- 상태가 자동으로 다음 단계로 변경됩니다:
  - 대기 → 준비 중 → 배송 중 → 완료

**방법 2: 상세 다이얼로그에서 직접 선택**
1. 주문 상세 다이얼로그 열기
2. "상태 변경" 섹션에서 원하는 상태 버튼 클릭
3. 상태가 즉시 변경됩니다

---

## 🔄 새로고침

각 페이지에서 "새로고침" 버튼을 클릭하여 최신 데이터를 불러올 수 있습니다.

---

## 📱 모바일 사용

### 모바일 네비게이션
- 모바일에서는 햄버거 메뉴(☰) 아이콘을 클릭하여 메뉴를 열 수 있습니다
- 메뉴에서 원하는 페이지로 이동할 수 있습니다

### 반응형 레이아웃
- 모든 페이지가 모바일, 태블릿, 데스크톱에 최적화되어 있습니다
- 모바일에서는 카드 형식으로 정보가 표시됩니다

---

## ⚠️ 주의사항

### 예약 관리
- 방 배정 후 저장하면 자동으로 알림톡이 발송됩니다
- 전화번호는 정확하게 입력해야 알림톡이 정상적으로 발송됩니다
- 예약 상태 변경 시 주의가 필요합니다

### 방 관리
- 사용 중인 방을 삭제하면 예약 정보에 영향을 줄 수 있습니다
- 방 삭제 전에 해당 방을 사용하는 예약이 없는지 확인하세요

### 주문 관리
- 주문 상태를 변경하면 고객에게 알림이 갈 수 있습니다
- 상태 변경 시 주의가 필요합니다

---

## 🆘 문제 해결

### 로그인이 안 될 때
- 아이디와 비밀번호를 정확히 입력했는지 확인하세요
- 브라우저 캐시를 삭제하고 다시 시도하세요
- 쿠키가 차단되어 있지 않은지 확인하세요

### 데이터가 표시되지 않을 때
- "새로고침" 버튼을 클릭하여 최신 데이터를 불러오세요
- 네트워크 연결을 확인하세요
- Railway API 서버 상태를 확인하세요

### 알림톡이 발송되지 않을 때
- n8n Webhook URL이 올바르게 설정되어 있는지 확인하세요
- 전화번호가 올바른 형식으로 입력되었는지 확인하세요
- n8n 워크플로우가 활성화되어 있는지 확인하세요

---

## 📞 지원

문제가 발생하거나 도움이 필요한 경우:
- 관리자에게 문의하세요
- 기술 지원: [지원 이메일 또는 연락처]

---

**최종 업데이트**: 2024-01-15
