# 방 관리 기능 재설계 - 방 배정 중심

## 🎯 새로운 기획

### 방 구조
- **모든 방은 오션뷰**
- **4인실 8개**: 1호~8호
- **2인실 2개**: 9호~10호
- **총 10개 방**

### 방 배정 프로세스
1. 예약 목록에서 예약 선택
2. 예약 상세 페이지에서:
   - 방 선택 (1호~10호)
   - 전화번호 입력
3. 저장 시:
   - 예약에 방 배정
   - n8n 연동으로 알림톡 발송
   - 개인화된 페이지 링크 공유

---

## ✅ 구현 사항

### 1. 기본 10개 방 생성

**파일:** `railway-backend/migrations/002_default_rooms.sql`

**변경 사항:**
- 오션뷰 전용
- 4인실 8개 (1호~8호)
- 2인실 2개 (9호~10호)

### 2. 방 관리 페이지 개선

**현재 상태:**
- 방 추가/수정/삭제 기능
- 방 목록 표시

**개선 방향:**
- 방 추가 기능 제거 (기본 10개만 사용)
- 방 수정 기능 제거 (이름/타입 고정)
- 방 삭제 기능 제거
- 방 목록은 읽기 전용으로 표시
- 각 방의 배정 상태 표시

### 3. 예약 상세 페이지

**현재 구현:**
- 방 선택 드롭다운
- 전화번호 입력
- 저장 시 방 배정 및 알림톡 발송

**유지 사항:**
- 현재 구현 그대로 유지
- 방 선택은 1호~10호만 표시

---

## 🔧 방 관리 페이지 수정 계획

### 변경 사항

1. **방 추가 버튼 제거**
2. **방 수정/삭제 기능 제거**
3. **방 목록 읽기 전용 표시**
4. **각 방의 배정 상태 표시**
   - 사용 가능 (available)
   - 사용 중 (occupied)
   - 점검 중 (maintenance)

### UI 개선

- 방 카드에 배정된 예약 정보 표시
- 예약이 배정된 방은 "사용 중" 상태 표시
- 예약이 없는 방은 "사용 가능" 상태 표시

---

## 📋 체크리스트

### 마이그레이션:
- [x] 기본 10개 방 SQL 생성 완료
- [ ] Railway에서 마이그레이션 실행
- [ ] 기본 방 데이터 확인

### 방 관리 페이지:
- [ ] 방 추가 버튼 제거
- [ ] 방 수정 기능 제거
- [ ] 방 삭제 기능 제거
- [ ] 방 목록 읽기 전용 표시
- [ ] 배정 상태 표시

### 예약 상세 페이지:
- [x] 방 선택 드롭다운 (1호~10호)
- [x] 전화번호 입력
- [x] 방 배정 및 알림톡 발송

---

## 🎯 핵심 개선 사항

1. **방 구조 고정**: 기본 10개 방만 사용
2. **방 배정 중심**: 방 추가가 아닌 방 배정 기능
3. **최소 입력**: 방 선택 + 전화번호만 입력
4. **자동 알림**: 방 배정 시 자동으로 알림톡 발송

---

**문서 버전**: 1.0  
**최종 업데이트**: 2026-01-06
