# 관리자/고객 페이지 UI·컴포넌트 상세 진단 및 개선 제안서

**작성일**: 2026-01-23  
**대상 범위**: Next.js 14 앱 전체 중 **관리자(`/admin/*`)**, **고객(`/guest/[token]/*`)**  
**진단 목적**: 현재 레이아웃/프레임을 유지하면서, **디자인·컴포넌트 완성도**와 **업무/사용 편의성**을 동시에 개선

---

## 0) 이 문서의 “진단 프레임”(평가 기준)

다음 7축으로 모든 화면/컴포넌트를 동일한 기준으로 진단합니다.

1. **정보 위계/업무 흐름(IA)**: “무엇을 먼저 봐야 하는지 / 다음 행동이 무엇인지”
2. **비주얼 시스템**: 색/대비/타이포/간격/카드/그림자 규칙의 일관성
3. **상태 피드백**: 로딩/성공/실패/재시도/데이터 최신성(자동 갱신 포함)
4. **인터랙션 패턴**: Drawer/Sheet/Dialog/페이지 전환 패턴의 통일성과 학습 비용
5. **접근성(A11y)**: 키보드/포커스/ARIA/터치 타겟
6. **성능/반응형**: 모바일 인앱 포함, 스크롤/오버레이/오브젝트 렌더링 안정성
7. **유지보수성**: 상태/배지/라벨 매핑의 단일화, 중복 코드, 스타일 토큰화

---

## 1) 현재 “디자인/컴포넌트 시스템” 현황(코드 기준)

### 1.1 테마 토큰(라이트 테마 고정)
- `app/globals.css`에서 라이트 테마 고정(`color-scheme: light`) + CSS 변수 기반 토큰을 정의하고 있음.
- 배경은 **무채색 회색 계열**(`--background: #F7F7F7`) + 카드 `#FFFFFF` 조합으로 “깔끔한 분리감”을 확보.
- 포커스 링/그림자/상태 색상까지 토큰화되어 있음.

**강점**
- 테마 토큰 기반이라 “디자인 변경”이 전체로 전파되기 쉬움.
- `Card/Button/Tabs`가 브랜드 색상/섀도 룰을 이미 내장하고 있어, 페이지별 임시 스타일을 줄일 수 있는 기반이 있음.

**리스크/개선 포인트**
- 일부 컴포넌트/페이지에서 **하드코딩 색상**(예: `bg-orange-50`, `bg-red-50`, 알림/배지 색상)이 존재 → 토큰 기반으로 통일하지 않으면 일관성 저하.
- 관리자 캘린더(`react-big-calendar`) 커스텀 CSS는 광범위하며, 모바일/데스크톱에서 “텍스트 가독성/셀 밀도”를 강하게 좌우 → 향후 변경 시 사이드 이펙트 관리 필요.

### 1.2 핵심 UI 컴포넌트 품질

#### Card
- `components/ui/card.tsx`는 **기본 카드**와 `interactive` 옵션의 규칙이 명확(호버 lift/섀도/보더 강화).
- 다만 일부 페이지는 `Card` 자체 스타일 위에 또 다른 `border/bg`를 얹어 “겹치는 스타일”이 생길 수 있음.

#### Button
- `components/ui/button.tsx`는 primary/secondary/outline/ghost 규칙이 명확하고 모바일 터치 타겟도 충분.
- 단, 페이지별 `h-8 md:h-9`처럼 높이를 다시 줄이는 케이스는 “터치 UX”와 충돌할 수 있음(관리자 모바일).

#### Tabs
- `components/ui/tabs.tsx`는 active 상태의 배경/섀도 규칙이 좋아 “탭이 탭처럼 보이는 문제”를 해결.

#### Select(겹침 이슈 대응)
- `components/ui/select.tsx`는 z-index를 매우 크게 강제하여 드롭다운 겹침 문제를 회피.
- 장기적으로는 “무조건 위로” 정책이 다른 오버레이(Modal/Drawer)와 충돌할 수 있어, **오버레이 계층 설계**를 문서화하는 것이 안전.

#### InfoInspector(모바일 Drawer/데스크톱 Sheet)
- `components/guest/InfoInspector.tsx`는 `open/onOpenChange` API로 통일되어 타입 안정성이 좋고,
- Drawer 본문을 `flex-1 overflow-y-auto`로 둬 “스크롤 잘림” 리스크를 구조적으로 차단함.
- 단, `SheetContent` 쪽은 `contentClassName`에 스크롤 전략이 위임되어 페이지별 편차가 생길 수 있음.

---

## 2) 관리자(Admin) 페이지 진단(주제/기능별)

### 2.1 공통 레이아웃/네비게이션
**관련 코드**
- `app/admin/layout.tsx`
- `components/admin/AdminBottomNav.tsx`
- `components/admin/notifications/NotificationBell.tsx`
- `components/admin/NotificationFeed.tsx`

**현황**
- 모바일: 하단 탭(홈/예약·배정/현장관리/주문/공지)으로 업무 흐름이 명확함.
- 데스크톱: 상단 링크로 동일 메뉴 제공.
- 알림은 SSE + 폴링(30초)을 같이 사용하여 “실시간 실패 시에도 보여주기”를 보완.

**평가(핵심)**
- **업무 단축 동선**은 이미 잘 설계됨.
- 다만 **“페이지 헤더/요약(KPI)/필터”의 규칙**이 페이지마다 조금씩 달라 학습 비용이 생길 수 있음.

**개선 제안(컴포넌트/디자인)**
- **(P0)** 관리자 공통 헤더 컴포넌트 도입(예: `AdminPageHeader`)  
  - 제목/설명/우측 액션 슬롯(새로고침 등) 위치를 통일 → 페이지별 “보이는 구조” 일치
- **(P1)** 알림 배지/컬러를 토큰 기반으로 통일  
  - 현재는 파일별로 `bg-blue-100...` 등 개별 정의 → 유지보수/일관성 비용 상승
- **(P1)** 모바일에서만 버튼 높이를 임의로 줄이는 패턴 최소화  
  - 예: `h-8`은 터치 UX를 약화시킬 수 있음(현장 운영자는 “한 손/이동 중” 사용이 잦음)

---

### 2.2 관리자 홈(`/admin`)
**관련 코드**
- `app/admin/page.tsx`

**현황**
- D-1 미배정 수를 계산해 `CriticalStatusBanner`로 상단 노출
- 실시간 알림 피드를 큰 섹션으로 제공

**좋은 점**
- “긴급 업무(미배정)”를 홈에서 즉시 노출 → 운영 효율에 직접 기여

**개선 포인트**
- 홈이 “알림 피드 중심”이라 알림이 없을 때 정보 가치가 낮아질 수 있음.

**개선 제안**
- **(P0)** 홈 상단에 KPI 3~4개 카드(오늘 체크인/체크아웃/미배정/대기 주문)를 고정 배치  
  - 알림이 없어도 “오늘 할 일”이 5초 내 파악되게 구성
- **(P1)** `CriticalStatusBanner`의 상태(정상/주의/긴급) 시각 규칙을 디자인 토큰(상태색) 기반으로 통일

---

### 2.3 예약/배정(`/admin/reservations`)
**관련 코드**
- `app/admin/reservations/page.tsx`
- `app/globals.css`의 `react-big-calendar` 커스텀

**현황**
- 쿼리 파라미터 기반 필터/뷰
- 캘린더용으로 `limit: 1000` 크게 조회

**리스크(사용성/운영)**
- “월간 파악”과 “업무 처리(미배정 해결)”가 한 화면에서 경쟁할 때, 컨트롤/정보 밀도가 계속 늘어날 수 있음.
- 캘린더 커스텀 CSS가 강력해서, 작은 변경도 전체 레이아웃/가독성에 영향을 주기 쉬움.

**개선 제안(디자인/컴포넌트 중심)**
- **(P0)** 캘린더의 정보 표기 규칙을 명문화(셀 내 우선순위/요약 칩/텍스트 한 줄 룰)  
  - 목표: “더보기/팝업” 의존을 줄이고 월간 스캔 속도를 높임
- **(P1)** 상단 컨트롤 과밀 방지(필터는 2단: 기본 1줄 + 상세는 Sheet/Drawer)  
  - 이미 문서(`ADMIN_UI_UX_REFACTOR_PLAN.md`)에 방향이 있으므로 “규칙 강제”만 추가하면 됨

---

### 2.4 주문 히스토리(`/admin/orders`)
**관련 코드**
- `app/admin/orders/page.tsx`

**현황**
- 필터 + 카드 그리드 + 상세 다이얼로그
- 주문 상태 업데이트를 “다음 단계”로 단순화하려는 흔적이 있으나, 실제 버튼 라벨/상태 매핑이 혼재

**문제(컴포넌트 관점)**
- `getStatusBadge()`가 `'확인'/'완료'` 2단계로 표현되는데, 실제 상태는 `pending/preparing/completed`로 더 많음.  
  → UI 라벨이 상태 모델을 정확히 반영하지 못해 “운영자가 헷갈릴 수 있는” 위험.
- 카드 리스트와 다이얼로그 내 “상태 변경 버튼”이 별도 규칙으로 보여 UX 학습 비용이 생김.

**개선 제안**
- **(P0)** 주문 상태 메타 단일화(라벨/색/다음 단계)  
  - 예: `orderStatusMeta = { pending: {label, color, next}, preparing: {...}, completed: {...} }`
- **(P0)** 상세 다이얼로그/카드에서 동일한 `StatusPill`(또는 `Badge` wrapper)로 렌더링 강제
- **(P1)** “예약 정보 없을 때 추가 조회”는 UX 상 이득이 있지만, 로딩 지연이 생길 수 있음  
  - UI에는 “예약 정보 보강 중…” 같은 미세 피드백(스켈레톤 라인 1~2개)만 추가해도 신뢰성이 올라감

---

### 2.5 현장관리(`/admin/rooms`)
**관련 코드**
- `app/admin/rooms/page.tsx`
- 실시간 하이라이트 애니메이션(`@keyframes blink` in `globals.css`)

**현황**
- 방 카드 안에 투숙객/상태/주문(대기)까지 압축
- SSE 알림을 감지해 특정 방 카드를 점멸 강조(5초)

**좋은 점**
- “현장에서 바로 써야 하는 정보”가 카드 단위로 모여 있음(운영 적합)
- 알림 기반 하이라이트는 업무 속도에 직접 도움

**리스크/개선 포인트**
- 상태 배지/색이 여러 갈래(방 status, 예약 status, 주문 status)가 카드 내부에서 각각 다르게 표현됨 → 시각적 규칙이 늘어날수록 혼란.
- `console.log`/`console.warn`가 남아 있어 운영 로그 노이즈가 생길 수 있음(디자인/UX 자체는 아니지만 운영 경험에 영향).

**개선 제안**
- **(P0)** 방 카드의 “상태 3종”을 한 줄 규칙으로 정리  
  - 예: 상단 우측은 항상 “방 점유(사용 가능/배정됨/체크인)”만, 주문은 별도 배지(숫자)로만 표시
- **(P1)** 점멸은 유효하지만, 접근성/피로도를 고려해 “한 번 강조 후 정지” 옵션(5초 뒤 애니메이션 제거는 이미 있음)을 유지 + 강도만 조정

---

### 2.6 고객 공지 관리(`/admin/announcements`)
**관련 코드**
- `app/admin/announcements/page.tsx`

**현황**
- 템플릿 프리셋 + 미리보기 + 활성/비활성 + 수정 Sheet
- 목록은 “진행중(active)”만 조회(요구사항과 일치)

**좋은 점**
- 템플릿/미리보기는 실제 운영 편의성이 매우 큼(“공지 작성 품질”을 올려줌)

**개선 포인트**
- textarea가 `border-input`/`bg-background` 기반으로 남아 있어, `Input`과의 스타일 일관성이 약간 깨질 수 있음.
- 날짜 입력은 timezone 변환을 잘 처리하지만, 사용자(관리자)가 “언제부터 고객에게 보이는지”를 혼동할 수 있어, 미리보기 날짜를 더 크게 강조해도 좋음.

**개선 제안**
- **(P1)** textarea도 공통 컴포넌트(`Textarea`)로 통일해 스타일/포커스 링 일치
- **(P2)** 목록 카드에 “현재 고객 노출 여부(지금 보임/예약/종료)”를 더 강하게(칩+서브텍스트) 표시

---

### 2.7 관리자 알림(벨/피드)
**관련 코드**
- `components/admin/notifications/NotificationBell.tsx`
- `components/admin/NotificationFeed.tsx`

**현황**
- SSE + 최초 로드 + 30초 폴링(피드)

**개선 제안**
- **(P0)** 알림 타입별 아이콘/색/라벨을 한 곳에서 정의(단일 소스)  
  - 지금은 컴포넌트 내 `switch`로 분산되어 있어 변경 비용이 커짐
- **(P1)** “알림 클릭 시 이동 규칙”도 단일화(지금은 `linkType/linkId` + `metadata` fallback 혼재)

---

## 3) 고객(Guest) 페이지 진단(주제/기능별)

### 3.1 공통 레이아웃/네비게이션
**관련 코드**
- `app/guest/[token]/layout.tsx`
- `components/guest/GuestHeader.tsx`
- `components/guest/GuestBottomNav.tsx`
- `components/shared/Footer.tsx`

**현황**
- 모바일: 상단 고정 헤더 + 하단 고정 네비게이션
- 데스크톱: 상단 헤더 네비게이션
- `main`은 모바일에서 `pt-14`, 하단은 `pb-10`으로 안전 공간을 확보

**강점**
- “일회성 사용”에 적합한 단순한 정보 구조(하단 5메뉴)
- 라이트 테마 고정 + 카드 기반 UI로 신뢰감/정돈된 인상

**개선 포인트**
- Footer가 모바일에서 `mb-14`를 가지며, 하단 네비와 합쳐져 “하단 여백이 길어 보일” 가능성이 있음(이미 과거 피드백 포인트).
- 헤더/바텀네비 모두 아이콘 사용은 적절하나, “활성 상태” 시각 규칙을 더 강하게 통일할 여지가 있음.

**개선 제안**
- **(P1)** Footer의 모바일 `mb-14`가 필요한 이유(바텀네비와 겹침 방지)가 이미 `main pb-10`과 중복될 수 있음 → 실제 화면 기준으로 재조정 체크리스트를 보고서 끝에 포함
- **(P2)** 아이콘 교체는 “추가”가 아니라 “대체”만 허용하는 원칙 유지  
  - 더 직관적인 세트가 필요할 때는 [Iconify](https://icon-sets.iconify.design/)에서 Solar/Tabler/Phosphor 등으로 선별 교체 가능(현 상태도 충분히 양호)

---

### 3.2 고객 홈(`/guest/[token]`)
**관련 코드**
- `app/guest/[token]/page.tsx`
- `components/guest/GuestHomeContent.tsx`

**현황(홈의 기능 덩어리)**
- 히어로 → 공지 → Quick Actions → 약도 → 상태 카드(WiFi/시간/체크인아웃) → 체크아웃 리마인더 → 최근 주문 요약

**강점**
- 1차 행동(Quick Actions)과 2차 정보(상태 카드)의 분리가 명확
- 서버 상태(reservation.status)와 스토어 상태를 동기화하여 새로고침 시 혼란을 줄임

**개선 포인트(UX 체감)**
- 주문/체크인아웃처럼 “중요 행동”은 **결과 확신**(처리중/완료/실패 후 다음 행동)이 화면 내에서 더 분명하면 만족도가 크게 오름.

**개선 제안**
- **(P0)** “중요 행동 3종(주문/체크인/체크아웃)”에 공통 인라인 피드백 패턴 추가  
  - 예: 완료 후 카드 상단에 1회 “완료됨” 배지 + 시간 + ‘상세 보기’ 링크
- **(P1)** 공지 읽음 상태가 `localStorage` 기반 → 기기/브라우저 변경 시 다시 “새 공지”가 될 수 있음  
  - 일회성 앱 특성을 고려해 “서버 저장”까지 갈지, 또는 “오늘만 유지(세션)”로 단순화할지 정책 결정 필요(보고서 하단에 옵션 제시)

---

### 3.3 공지(GuestAnnouncements)
**관련 코드**
- `components/guest/GuestAnnouncements.tsx`

**현황**
- 긴급 공지 1개 상단 강조 + 나머지 목록(최대 3개 + 더보기)
- 읽음 상태는 `localStorage`
- 상세는 `InfoInspector`로 표시

**개선 제안**
- **(P1)** 공지 카드(버튼) hover/active 스타일을 `Card`의 `interactive` 규칙과 맞추면 “터치 피드백 통일”에 도움
- **(P2)** 긴급 공지 본문이 길면 카드 높이가 커질 수 있으니, 홈에서는 1~2줄 요약 + 상세에서 전체(현재는 유사하지만 더 강하게 clamp)로 통일

---

### 3.4 불멍/BBQ 주문(`/guest/[token]/order`)
**관련 코드**
- `components/guest/GuestOrderContent.tsx`
- `lib/hooks/useGuestOrders.ts`(진단 문서에서 언급)

**현황**
- “불멍/바베큐 주문 카드(CTA)” + 주문 상태 요약 + 주문 내역
- 키오스크 주문 UI 제거(요구사항 반영)

**개선 포인트**
- 주문 상태/내역은 “갱신 신뢰성”이 UX 체감의 대부분을 좌우함.

**개선 제안**
- **(P0)** 주문 목록 훅(`useGuestOrders`)에 “자동 갱신 전략”을 명시  
  - 최소: 사용자 행동(주문 성공/탭 진입/포커스 복귀) 시 refetch  
  - 중간: 폴링 + 백오프(네트워크 실패 시)  
  - 최상: SSE/WS(가능하다면)
- **(P1)** `OrderHistory`의 상세(InfoInspector)에서 “중요 정보(배송시간/요청사항/상태)”의 섹션 분리를 강화하면 운영 문의가 감소

---

### 3.5 카페 이용(`/guest/[token]/cafe`)
**관련 코드**
- `components/guest/GuestCafeContent.tsx`
- `components/features/CouponFlip.tsx`

**현황**
- 쿠폰(플립) + 카페 정보 탭

**강점**
- “쿠폰 혜택은 카페 메뉴에 있어야 한다” 요구사항을 정확히 반영

**개선 포인트**
- `CouponFlip`에 이모지(👆)가 텍스트로 포함되어 있어 “미니멀 톤”을 엄격히 유지하려면 제거/대체 여지가 있음.

**개선 제안**
- **(P1)** 쿠폰 플립 안내 문구를 아이콘/이모지 없이도 이해되게(예: “탭하여 쿠폰 보기/사용하기”) 톤 정리
- **(P2)** `prefers-reduced-motion`을 이미 고려하고 있어 매우 좋음 → confetti 외에도 flip duration을 더 짧게 하는 옵션 제공 가능

---

### 3.6 이용 안내(`/guest/[token]/guide`)
**관련 코드**
- `components/guest/GuestGuideContent.tsx`
- `components/guest/InfoInspector.tsx`

**현황**
- 검색/카테고리 필터 + BBQ 진입 카드 + 가이드 목록
- BBQ 가이드는 중복 노출 방지(`bbq` 항목 목록에서 제외)
- 상세는 `InfoInspector`에서 “스크롤 충돌을 피하기 위한” 구조(상단 요약 + 탭/페이지 모드)로 설계

**강점**
- “한 화면에서 핵심 먼저, 나머지는 단계적으로”라는 구조가 일회성 사용자에게 적합
- Drawer 스크롤 문제를 구조적으로 회피(overflow 전략)

**개선 포인트**
- 검색 결과 하이라이트(키워드 강조)가 없어 “찾는 느낌”이 약할 수 있음(기존 진단 문서의 중간 우선순위 항목).

**개선 제안**
- **(P0)** 검색 하이라이트 유틸 추가(가이드/FAQ 공통 적용)  
  - UX 체감이 큰데 구현 난이도는 낮음(텍스트 렌더링 유틸)
- **(P1)** 카테고리 칩이 길어질 때 한 줄 스크롤은 유지하되 “현재 선택” 대비를 더 명확히(활성 탭과 같은 시각 규칙 적용)

---

### 3.7 도움말(`/guest/[token]/help`)
**관련 코드**
- `components/guest/GuestHelpContent.tsx`

**현황**
- 응급 FAB(모바일) + 빠른 도움(3개) + 응급 연락처 + FAQ + 안전 정보

**강점**
- “관리자 문의를 줄이는 구조(자주 찾는 도움)”가 명확
- `tel:`과 지도 링크를 1차 액션으로 제공 → 현장 친화적

**개선 포인트**
- FAQ 검색 결과 하이라이트 부재
- 카테고리 칩/검색이 가이드와 유사한데 구현이 분산되어 중복 가능성이 있음

**개선 제안**
- **(P0)** 가이드/도움말의 “검색 + 하이라이트 + 카테고리” 공통 컴포넌트화(또는 유틸화)
- **(P1)** 데스크톱에서도 응급 연락 “고정 액션”을 제공할지 정책 결정(현 상태는 모바일 FAB만)

---

### 3.8 체크인/체크아웃(`/guest/[token]/checkinout`)
**관련 코드**
- `components/guest/GuestCheckInOutContent.tsx`

**현황**
- 시간 안내(TimeCard) + 체크인/체크아웃 액션 + 예약 정보(날짜 포맷 가독성 개선)

**강점**
- ISO 시간 문자열의 `T00...Z` 노출을 제거하고 사용자 친화 날짜 포맷을 사용
- 홈과 동일하게 서버 상태와 스토어 상태 동기화

**개선 제안**
- **(P1)** 체크아웃 체크리스트(있다면)에서 “남은 항목”이 즉시 보이게 진행률/미완료 강조를 통일(기존 진단 문서의 고우선 항목)

---

## 4) “디자인/컴포넌트” 공통 개선안(가장 ROI 높은 것부터)

### 4.1 P0(즉시 반영 추천: 체감 크고 리스크 낮음)
1. **검색 결과 하이라이트**: 가이드/도움말 공통 적용  
2. **상태 배지 단일화**: 관리자(주문/방/예약) + 고객(주문 상태)까지 라벨/색/용어 통일  
3. **에러/재시도 패턴 통일**: 데이터 로드 실패 시 “한 줄 안내 + 재시도 버튼”을 공통 컴포넌트로 제공

### 4.2 P1(단기: 일관성/완성도 상승)
1. **오버레이(Select/Drawer/Sheet/Dialog) z-index 체계 문서화**  
2. **폼 요소(특히 textarea)도 동일한 스타일 컴포넌트로 통일**  
3. **Footer/하단 네비/메인 패딩 재조정 체크**(모바일 스크롤 피로감)

### 4.3 P2(중기: 운영 효율/확장성)
1. **관리자 홈 KPI 강화**(알림 의존도를 낮추기)  
2. **주문/예약 데이터 최신성 전략 고도화**(폴링/백오프/SSE 정리)
3. **중복 유틸 정리**(날짜 포맷/상태 매핑/검색 필터)

---

## 5) 점검 체크리스트(배포 전/후)

### 5.1 UI/컴포넌트 체크
- [ ] 모바일에서 Drawer/Sheet 내부 스크롤이 항상 가능하며, 스크롤 중 닫힘/튕김이 없다
- [ ] `Select` 드롭다운이 모든 화면에서 다른 오버레이 위/아래 계층 충돌 없이 노출된다
- [ ] 버튼/탭/카드의 active/hover 피드백이 “과하지 않고 일관되다”
- [ ] 하단 네비가 있는 화면에서 Footer/마지막 카드가 가려지지 않으며, 불필요한 하단 여백이 과하지 않다

### 5.2 운영/업무 체크(관리자)
- [ ] “내일 미배정”이 10초 내 확인되고 1~2번 클릭으로 배정 완료까지 도달한다
- [ ] 주문 상태 변경이 ‘라벨’ 기준으로 혼동되지 않는다(확인/준비중/완료 용어 일치)
- [ ] 알림이 SSE가 실패해도(네트워크 불안정) 최소 30초 내 목록이 복구된다

### 5.3 고객 체크(일회성 사용자)
- [ ] 홈에서 3초 내 “WiFi/체크인/주문/도움말” 중 원하는 것을 찾을 수 있다
- [ ] 주문 상태가 업데이트됐을 때 “바뀐 것이 보인다”(시간/배지/새로고침 동작)
- [ ] 쿠폰은 “사용 방법”이 설명 없이도 이해된다(텍스트로 충분)

---

## 6) 다음 액션(권장 진행 순서)

1. **P0 3종(검색 하이라이트 / 상태 배지 단일화 / 에러·재시도 패턴)**을 먼저 적용  
2. Footer/하단 여백/오버레이 계층은 실제 모바일 화면 기준으로 1회 정리(“체감 피로” 개선)  
3. 관리자 홈 KPI 보강 + 주문/예약 최신성 전략 고도화로 운영 완성도 상승

